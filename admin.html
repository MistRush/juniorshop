<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - JuniorShop</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Admin Styles -->
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-card">
            <div class="login-header">
                <div class="logo-icon">ü¶î</div>
                <h1>JuniorShop Admin</h1>
                <p>P≈ôihlaste se pro p≈ô√≠stup k administraci</p>
            </div>

            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginEmail">E-mail</label>
                    <input type="email" id="loginEmail" placeholder="admin@juniorshop.cz" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Heslo</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn-login">P≈ôihl√°sit se</button>
                <p class="login-hint">Demo: admin@juniorshop.cz / admin123</p>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="admin-dashboard hidden">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">ü¶î</div>
                <span class="logo-text">Admin</span>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>P≈ôehled</span>
                </a>
                <a href="#" class="nav-item" data-section="orders">
                    <span class="nav-icon">üì¶</span>
                    <span>Objedn√°vky</span>
                    <span class="nav-badge" id="ordersBadge">0</span>
                </a>
                <a href="#" class="nav-item" data-section="products">
                    <span class="nav-icon">üß∏</span>
                    <span>Produkty</span>
                </a>
                <a href="#" class="nav-item" data-section="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Nastaven√≠</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <a href="index.html" class="nav-item">
                    <span class="nav-icon">üè™</span>
                    <span>Zpƒõt do obchodu</span>
                </a>
                <button class="nav-item" id="logoutBtn">
                    <span class="nav-icon">üö™</span>
                    <span>Odhl√°sit se</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <header class="admin-header">
                <h1 id="pageTitle">P≈ôehled</h1>
                <div class="header-actions">
                    <span class="user-info">üë§ Admin</span>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="section-dashboard" class="admin-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalOrders">0</div>
                            <div class="stat-label">Celkem objedn√°vek</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è≥</div>
                        <div class="stat-content">
                            <div class="stat-value" id="pendingOrders">0</div>
                            <div class="stat-label">ƒåekaj√≠c√≠</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalRevenue">0 Kƒç</div>
                            <div class="stat-label">Celkov√Ω obrat</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üß∏</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalProducts">12</div>
                            <div class="stat-label">Produkt≈Ø</div>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <h2>Posledn√≠ objedn√°vky</h2>
                    <div id="recentOrders" class="orders-list">
                        <p class="empty-state">Zat√≠m ≈æ√°dn√© objedn√°vky</p>
                    </div>
                </div>
            </section>

            <!-- Orders Section -->
            <section id="section-orders" class="admin-section">
                <div class="section-header">
                    <h2>V≈°echny objedn√°vky</h2>
                    <div class="filters">
                        <select id="orderStatusFilter">
                            <option value="">V≈°echny stavy</option>
                            <option value="pending">ƒåekaj√≠c√≠</option>
                            <option value="processing">Zpracov√°v√° se</option>
                            <option value="shipped">Odesl√°no</option>
                            <option value="delivered">Doruƒçeno</option>
                        </select>
                    </div>
                </div>

                <div class="orders-table-container">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>ƒå√≠slo</th>
                                <th>Z√°kazn√≠k</th>
                                <th>Polo≈æky</th>
                                <th>Celkem</th>
                                <th>Stav</th>
                                <th>Datum</th>
                                <th>Akce</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <tr>
                                <td colspan="7" class="empty-state">Zat√≠m ≈æ√°dn√© objedn√°vky</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Products Section -->
            <section id="section-products" class="admin-section">
                <div class="section-header">
                    <h2>Spr√°va produkt≈Ø</h2>
                    <button class="btn-primary" id="addProductBtn">+ P≈ôidat produkt</button>
                </div>

                <div class="products-grid" id="adminProductsGrid">
                    <!-- Products loaded by JS -->
                </div>
            </section>

            <!-- Settings Section -->
            <section id="section-settings" class="admin-section">
                <div class="section-card">
                    <h2>Firebase nastaven√≠</h2>
                    <p class="info-text">Pro plnou funkƒçnost nastavte spr√°vn√© Firebase credentials v souboru
                        <code>firebase-config.js</code>.
                    </p>

                    <div class="settings-form">
                        <div class="form-group">
                            <label>Stav Firebase:</label>
                            <span id="firebaseStatus" class="status-badge">Kontroluji...</span>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <h2>Lok√°ln√≠ data</h2>
                    <p class="info-text">Objedn√°vky ulo≈æen√© lok√°lnƒõ (kdy≈æ Firebase nen√≠ dostupn√Ω):</p>
                    <div id="localOrdersCount">0 objedn√°vek</div>
                    <button class="btn-secondary" id="viewLocalOrders">Zobrazit lok√°ln√≠ objedn√°vky</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Order Detail Modal -->
    <div id="orderModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Detail objedn√°vky <span id="modalOrderNumber">#123456</span></h2>
                <button class="modal-close" id="closeModal">√ó</button>
            </div>
            <div class="modal-body" id="orderModalBody">
                <!-- Order details loaded by JS -->
            </div>
            <div class="modal-footer">
                <select id="orderStatusSelect">
                    <option value="pending">ƒåekaj√≠c√≠</option>
                    <option value="processing">Zpracov√°v√° se</option>
                    <option value="shipped">Odesl√°no</option>
                    <option value="delivered">Doruƒçeno</option>
                </select>
                <button class="btn-primary" id="updateOrderStatus">Aktualizovat stav</button>
            </div>
        </div>
    </div>

    <!-- Product Edit Modal -->
    <div id="productModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2><span id="productModalTitle">Upravit produkt</span></h2>
                <button class="modal-close" id="closeProductModal">√ó</button>
            </div>
            <div class="modal-body">
                <form id="productEditForm">
                    <input type="hidden" id="editProductId">

                    <div class="form-group">
                        <label for="editProductName">N√°zev produktu</label>
                        <input type="text" id="editProductName" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductPrice">Cena (Kƒç)</label>
                            <input type="number" id="editProductPrice" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="editProductOriginalPrice">P≈Øvodn√≠ cena (Kƒç)</label>
                            <input type="number" id="editProductOriginalPrice" min="0" placeholder="Voliteln√©">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductCategory">Kategorie</label>
                            <select id="editProductCategory" required>
                                <option value="hracky">Hraƒçky</option>
                                <option value="knihy">Knihy</option>
                                <option value="tvoreni">Tvo≈ôen√≠</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editProductStock">Skladem (ks)</label>
                            <input type="number" id="editProductStock" min="0" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductAge">Vƒõk</label>
                            <select id="editProductAge">
                                <option value="0-3">0-3 roky</option>
                                <option value="3-6">3-6 let</option>
                                <option value="6-9">6-9 let</option>
                                <option value="9-12">9-12 let</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editProductGender">Pohlav√≠</label>
                            <select id="editProductGender">
                                <option value="unisex">Unisex</option>
                                <option value="boy">Chlapci</option>
                                <option value="girl">D√≠vky</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editProductImage">URL obr√°zku</label>
                        <input type="url" id="editProductImage" placeholder="https://...">
                        <div id="imagePreview" class="image-preview"></div>
                    </div>

                    <div class="form-group">
                        <label for="editProductDescription">Popis</label>
                        <textarea id="editProductDescription" rows="3"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="editProductBadge">≈†t√≠tek</label>
                        <select id="editProductBadge">
                            <option value="">≈Ω√°dn√Ω</option>
                            <option value="new">Novinka</option>
                            <option value="sale">Sleva</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelProductEdit">Zru≈°it</button>
                <button class="btn-primary" id="saveProductBtn">Ulo≈æit zmƒõny</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

    <!-- Firebase Config -->
    <script src="firebase-config.js"></script>

    <!-- Admin JavaScript -->
    <script src="admin.js"></script>
</body>

</html>